<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>QDESK ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –¥–æ—Å–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π</title>
    <link rel="preconnect" href="https://unpkg.com">
    <style>body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}</style>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-white">
    <div id="root"></div>

    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
      const BRAND = {
        name: "QDESK",
        accent: "#007AFF",
        tagline: "–õ–æ–∫–∞–ª—å–Ω–∞—è –¥–æ—Å–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è",
        sub: "–†–∞–∑–º–µ—Å—Ç–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –æ–Ω–ª–∞–π–Ω –∏ –ø–æ–ª—É—á–∏ –ª–∏—Å—Ç–æ–≤–∫—É —Å QR-–∫–æ–¥–æ–º –¥–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω–∞."
      };

      const MOCK = [
        { id: 1, title: "iPhone 8, 64 –ì–ë", price: "5 000 ‚ÇΩ", area: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π", city: "–ù–æ–≤–æ–∫—É–∑–Ω–µ—Ü–∫", img:"https://picsum.photos/id/1084/600/400" },
        { id: 2, title: "–í–µ–ª–æ—Å–∏–ø–µ–¥ Stels", price: "12 000 ‚ÇΩ", area: "–ö—É–∑–Ω–µ—Ü–∫–∏–π", city: "–ù–æ–≤–æ–∫—É–∑–Ω–µ—Ü–∫", img:"https://picsum.photos/id/1011/600/400" },
        { id: 3, title: "–†–µ–º–æ–Ω—Ç —Å—Ç–∏—Ä–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω", price: "–æ—Ç 1 500 ‚ÇΩ", area: "–û—Ä–¥–∂–æ–Ω–∏–∫–∏–¥–∑–µ–≤—Å–∫–∏–π", city: "–ù–æ–≤–æ–∫—É–∑–Ω–µ—Ü–∫", img:"https://picsum.photos/id/1067/600/400" },
        { id: 4, title: "MacBook Air 2015", price: "25 000 ‚ÇΩ", area: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π", city: "–ù–æ–≤–æ–∫—É–∑–Ω–µ—Ü–∫", img:"https://picsum.photos/id/1040/600/400" },
        { id: 5, title: "–î–µ—Ç—Å–∫–∞—è –∫–æ–ª—è—Å–∫–∞", price: "3 500 ‚ÇΩ", area: "–ö—É–∑–Ω–µ—Ü–∫–∏–π", city: "–ù–æ–≤–æ–∫—É–∑–Ω–µ—Ü–∫", img:"https://picsum.photos/id/1050/600/400" },
      ];

      /* ==== HERO CAROUSEL ==== */
      function HeroCarousel(){
        const slides = MOCK;
        const [i, setI] = React.useState(0);
        const n = slides.length;
        React.useEffect(()=>{
          const t = setInterval(()=> setI(prev => (prev+1)%n), 3500);
          return ()=> clearInterval(t);
        }, [n]);
        return (
          <div className="rounded-2xl border border-neutral-200 bg-white shadow p-0 overflow-hidden">
            <div className="relative aspect-[16/10]">
              {slides.map((s,idx)=>(
                <div key={s.id} className={`absolute inset-0 transition-opacity duration-500 ${idx===i ? 'opacity-100' : 'opacity-0'}`}>
                  <img src={s.img} alt={s.title} className="w-full h-full object-cover" />
                </div>
              ))}
            </div>
          </div>
        );
      }

      /* ===== –ù–æ–≤—ã–π –ø–æ–∏—Å–∫: —á–∞—Ç + —Å–≤–∞–π–ø ===== */
      function SearchInside() {
        const [q, setQ] = React.useState("");
        const [history, setHistory] = React.useState([
          {role:"assistant", text:"–ü—Ä–∏–≤–µ—Ç! –û–ø–∏—à–∏, —á—Ç–æ –∏—â–µ—à—å ‚Äî –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ—è–≤—è—Ç—Å—è —Å–Ω–∏–∑—É üëá"}
        ]);
        const [stack, setStack] = React.useState([...MOCK]);

        const onSubmit = (e)=>{
          e.preventDefault();
          if(!q.trim()) return;
          setHistory(h=>[...h,{role:"user",text:q},{role:"assistant",text:"–ù–∞—à—ë–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å–Ω–∏–∑—É. –ú–æ–≥—É —É—Ç–æ—á–Ω–∏—Ç—å –ø–æ —Ä–∞–π–æ–Ω—É?"}]);
          setQ("");
        };

        const like = (id)=>{
          setStack(s=>s.filter(x=>x.id!==id));
          console.log("LIKE", id);
        };
        const nope = (id)=>{
          setStack(s=>s.filter(x=>x.id!==id));
          console.log("NOPE", id);
        };

        const current = stack[stack.length-1];

        return (
          <section id="inside" className="py-16 bg-neutral-50">
            <div className="max-w-4xl mx-auto px-4">
              <h2 className="text-3xl font-bold mb-3">–î–∏–∞–ª–æ–≥–æ–≤—ã–π –ø–æ–∏—Å–∫</h2>
              <p className="text-neutral-600 mb-6">–°–ø—Ä–∞—à–∏–≤–∞–π –∫–∞–∫ –≤ —á–∞—Ç–µ ‚Äî –º—ã –ø–æ–∫–∞–∂–µ–º –ø–æ–¥—Ö–æ–¥—è—â–µ–µ —Ä—è–¥–æ–º.</p>

              {/* –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ */}
              <div className="border rounded-xl bg-white p-4 mb-4 h-64 overflow-y-auto">
                {history.map((m,i)=>(
                  <div key={i} className={`mb-2 ${m.role==="user"?"text-right":""}`}>
                    <div className={`inline-block px-3 py-2 rounded-lg ${m.role==="user"?"bg-blue-500 text-white":"bg-neutral-200"}`}>{m.text}</div>
                  </div>
                ))}
              </div>

              {/* Composer */}
              <form onSubmit={onSubmit} className="flex gap-2 mb-8">
                <input value={q} onChange={e=>setQ(e.target.value)} placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¥–∏–≤–∞–Ω –ª–æ—Ñ—Ç –¥–æ 20–∫" className="flex-1 border rounded-lg px-3 py-2"/>
                <button className="px-4 py-2 rounded-lg text-white font-semibold" style={{backgroundColor:BRAND.accent}}>–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
              </form>

              {/* –î–µ–∫ –∫–∞—Ä—Ç–æ—á–µ–∫ —Å–Ω–∏–∑—É */}
              <div className="relative h-96">
                {current ? (
                  <div key={current.id} className="absolute inset-0 flex flex-col md:flex-row border rounded-xl bg-white shadow overflow-hidden">
                    <img src={current.img} alt={current.title} className="md:w-1/2 object-cover"/>
                    <div className="p-4 flex flex-col flex-1">
                      <h3 className="font-semibold text-lg mb-1">{current.title}</h3>
                      <p className="text-sm text-neutral-600 mb-3">{current.price} ‚Ä¢ {current.city}, {current.area}</p>
                      <div className="mt-auto flex gap-3">
                        <button onClick={()=>nope(current.id)} className="flex-1 border border-red-300 text-red-600 rounded-lg py-2">–ù–µ—Ç</button>
                        <button onClick={()=>like(current.id)} className="flex-1 bg-green-500 text-white rounded-lg py-2">–í–∞—É!</button>
                      </div>
                    </div>
                  </div>
                ) : (
                  <div className="absolute inset-0 grid place-items-center text-neutral-500">–ë–æ–ª—å—à–µ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç. –ü–æ–ø—Ä–æ–±—É–π –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å.</div>
                )}
              </div>
            </div>
          </section>
        );
      }

      /* ===== HEADER ===== */
      function Header(){
        return (
          <header className="sticky top-0 z-50 bg-white/90 backdrop-blur border-b border-neutral-200">
            <nav className="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
              <div className="flex items-center gap-2">
                <div className="w-8 h-8 rounded-lg grid place-items-center font-bold text-sm" style={{backgroundColor: BRAND.accent, color:"#fff"}}>QD</div>
                <span className="font-bold tracking-tight">{BRAND.name}</span>
              </div>
              <a href="cabinet.html" className="px-4 py-2 rounded-lg font-semibold text-sm" style={{backgroundColor: BRAND.accent, color:"#fff"}}>–†–∞–∑–º–µ—Å—Ç–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</a>
            </nav>
          </header>
        );
      }

      function App(){
        return (
          <div className="min-h-screen w-full bg-white text-neutral-900">
            <Header />
            <section className="max-w-6xl mx-auto px-4 pt-16 pb-12">
              <div className="grid md:grid-cols-2 gap-10 items-center">
                <div>
                  <h1 className="text-4xl md:text-5xl font-extrabold tracking-tight leading-tight">{BRAND.tagline}</h1>
                  <p className="mt-4 text-lg text-neutral-600">{BRAND.sub}</p>
                </div>
                <HeroCarousel />
              </div>
            </section>
            <SearchInside />
          </div>
        );
      }

      ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
  </body>
</html>
